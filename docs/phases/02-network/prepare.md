# Phase 2 äº‹å‰å­¦ç¿’ã‚¬ã‚¤ãƒ‰ - ã‚³ãƒ³ãƒ†ãƒŠãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯

ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€Phase 2ã§ã‚³ãƒ³ãƒ†ãƒŠãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚’å®Ÿè£…ã™ã‚‹ãŸã‚ã«å¿…è¦ãªåŸºç¤çŸ¥è­˜ã‚’ã¾ã¨ã‚ãŸã‚‚ã®ã§ã™ã€‚

## 1. Linux ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¹ã‚¿ãƒƒã‚¯åŸºç¤

### 1.1 ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åå‰ç©ºé–“

**Network Namespaceã®æ¦‚å¿µ**
- ç‹¬ç«‹ã—ãŸãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¹ã‚¿ãƒƒã‚¯ã®æä¾›
- ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã€ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«ã€iptablesãƒ«ãƒ¼ãƒ«ã®åˆ†é›¢
- ãƒ—ãƒ­ã‚»ã‚¹ã”ã¨ã«ç•°ãªã‚‹ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ“ãƒ¥ãƒ¼ã‚’å®Ÿç¾

**ä½œæˆã¨æ“ä½œ**
```bash
# æ–°ã—ã„ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åå‰ç©ºé–“ã®ä½œæˆ
ip netns add container1

# åå‰ç©ºé–“å†…ã§ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ
ip netns exec container1 ip addr show

# åå‰ç©ºé–“ã®å‰Šé™¤
ip netns delete container1
```

### 1.2 ä»®æƒ³ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ‡ãƒã‚¤ã‚¹

**veth (Virtual Ethernet) ãƒšã‚¢**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Host NS   â”‚      â”‚Container NS â”‚
â”‚             â”‚      â”‚             â”‚
â”‚  veth0 â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€ veth1    â”‚
â”‚             â”‚      â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç‰¹å¾´**
- ä»®æƒ³çš„ãªã‚¤ãƒ¼ã‚µãƒãƒƒãƒˆã‚±ãƒ¼ãƒ–ãƒ«ã®ã‚ˆã†ã«å‹•ä½œ
- ä¸€æ–¹ã«å…¥åŠ›ã•ã‚ŒãŸãƒ‘ã‚±ãƒƒãƒˆã¯ä»–æ–¹ã‹ã‚‰å‡ºåŠ›
- åå‰ç©ºé–“ã‚’è·¨ã„ã é€šä¿¡ã«ä½¿ç”¨

## 2. Linux Bridge

### 2.1 ãƒ–ãƒªãƒƒã‚¸ã®æ¦‚å¿µ

**Linux Bridgeã¨ã¯**
- ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã«ã‚ˆã‚‹L2ã‚¹ã‚¤ãƒƒãƒå®Ÿè£…
- è¤‡æ•°ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æ¥ç¶š
- MACã‚¢ãƒ‰ãƒ¬ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«ã«ã‚ˆã‚‹åŠ¹ç‡çš„ãªè»¢é€

**ãƒ–ãƒªãƒƒã‚¸ã®æ§‹é€ **
```
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Linux Bridge   â”‚
        â”‚   (ctr0)        â”‚
        â””â”€â”€â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
             â”‚  â”‚  â”‚
         veth0 veth2 veth4  â† ãƒ›ã‚¹ãƒˆå´
             â”‚  â”‚  â”‚
         veth1 veth3 veth5  â† ã‚³ãƒ³ãƒ†ãƒŠå´
             â”‚  â”‚  â”‚
        â”Œâ”€â”€â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”€â”€â”
        â”‚  Containers    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ãƒ–ãƒªãƒƒã‚¸æ“ä½œã‚³ãƒãƒ³ãƒ‰

```bash
# ãƒ–ãƒªãƒƒã‚¸ã®ä½œæˆ
ip link add name ctr0 type bridge

# ãƒ–ãƒªãƒƒã‚¸ã®èµ·å‹•
ip link set ctr0 up

# IPã‚¢ãƒ‰ãƒ¬ã‚¹ã®å‰²ã‚Šå½“ã¦
ip addr add 172.20.0.1/24 dev ctr0

# ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ãƒ–ãƒªãƒƒã‚¸ã«æ¥ç¶š
ip link set veth0 master ctr0

# ãƒ–ãƒªãƒƒã‚¸ã®çŠ¶æ…‹ç¢ºèª
bridge link show
bridge fdb show
```

## 3. ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¢ãƒ‰ãƒ¬ã‚¹å¤‰æ› (NAT)

### 3.1 NAT ã®ç¨®é¡ã¨ç”¨é€”

**SNAT (Source NAT)**
- é€ä¿¡å…ƒã‚¢ãƒ‰ãƒ¬ã‚¹ã®å¤‰æ›
- å†…éƒ¨ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‹ã‚‰å¤–éƒ¨ã¸ã®é€šä¿¡ã§ä½¿ç”¨

**DNAT (Destination NAT)**
- å®›å…ˆã‚¢ãƒ‰ãƒ¬ã‚¹ã®å¤‰æ›
- å¤–éƒ¨ã‹ã‚‰å†…éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã§ä½¿ç”¨

**MASQUERADE**
- å‹•çš„ãªSNATã®ä¸€ç¨®
- é€ä¿¡ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è‡ªå‹•çš„ã«ä½¿ç”¨

### 3.2 iptables ã«ã‚ˆã‚‹NATè¨­å®š

**åŸºæœ¬çš„ãªNATãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ **
```
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚ PREROUTING  â”‚ â† ãƒ‘ã‚±ãƒƒãƒˆå—ä¿¡æ™‚
                  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
                  â”‚   ROUTING   â”‚ â† ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ±ºå®š
                  â””â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
                     â”‚      â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â” â”Œâ”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ INPUT   â”‚ â”‚ FORWARD  â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
                               â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
                        â”‚POSTROUTING  â”‚ â† ãƒ‘ã‚±ãƒƒãƒˆé€ä¿¡æ™‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**MASQUERADEã®è¨­å®šä¾‹**
```bash
# ã‚³ãƒ³ãƒ†ãƒŠã‹ã‚‰ã®å¤–éƒ¨é€šä¿¡ã‚’è¨±å¯
iptables -t nat -A POSTROUTING -s 172.20.0.0/24 ! -o ctr0 -j MASQUERADE

# ãƒ‘ã‚±ãƒƒãƒˆè»¢é€ã®æœ‰åŠ¹åŒ–
echo 1 > /proc/sys/net/ipv4/ip_forward
```

## 4. ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³

### 4.1 ã‚³ãƒ³ãƒ†ãƒŠãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ¢ãƒ‡ãƒ«

**Bridge ãƒ¢ãƒ¼ãƒ‰**
```
Internet â† eth0 â† Bridge â† veth â† Container
                    â”‚
                    â””â”€â”€â”€ veth â† Container
```

**Host ãƒ¢ãƒ¼ãƒ‰**
- ã‚³ãƒ³ãƒ†ãƒŠãŒãƒ›ã‚¹ãƒˆã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åå‰ç©ºé–“ã‚’å…±æœ‰
- æœ€é«˜ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã€æœ€ä½ã®åˆ†é›¢æ€§

**None ãƒ¢ãƒ¼ãƒ‰**
- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãªã—
- å®Œå…¨ã«éš”é›¢ã•ã‚ŒãŸã‚³ãƒ³ãƒ†ãƒŠ

### 4.2 IPã‚¢ãƒ‰ãƒ¬ã‚¹ç®¡ç†

**IPAM (IP Address Management)**
- ã‚µãƒ–ãƒãƒƒãƒˆã®ç®¡ç†
- IPã‚¢ãƒ‰ãƒ¬ã‚¹ã®å‹•çš„å‰²ã‚Šå½“ã¦
- ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒ—ãƒ¼ãƒ«ã®ç®¡ç†

```go
// ç°¡å˜ãªIPAMå®Ÿè£…ä¾‹
type IPAM struct {
    subnet   *net.IPNet
    gateway  net.IP
    allocated map[string]net.IP
    mu       sync.Mutex
}

func (ipam *IPAM) Allocate(id string) (net.IP, error) {
    ipam.mu.Lock()
    defer ipam.mu.Unlock()
    
    // æ¬¡ã®åˆ©ç”¨å¯èƒ½ãªIPã‚’æ¤œç´¢
    for ip := ipam.subnet.IP.Mask(ipam.subnet.Mask); ipam.subnet.Contains(ip); inc(ip) {
        if !ipam.isAllocated(ip) {
            ipam.allocated[id] = ip
            return ip, nil
        }
    }
    return nil, errors.New("no available IP addresses")
}
```

## 5. netlink ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

### 5.1 netlinkã¨ã¯

**æ¦‚è¦**
- ã‚«ãƒ¼ãƒãƒ«ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ç©ºé–“ã®é€šä¿¡ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
- ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®šã®æ¨™æº–çš„ãªæ–¹æ³•
- rtnetlink: ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¨ãƒªãƒ³ã‚¯è¨­å®š

**Goè¨€èªã§ã®netlinkä½¿ç”¨**
```go
import "github.com/vishvananda/netlink"

// ãƒªãƒ³ã‚¯ã®ä½œæˆ
la := netlink.NewLinkAttrs()
la.Name = "veth0"
veth := &netlink.Veth{
    LinkAttrs: la,
    PeerName:  "veth1",
}
err := netlink.LinkAdd(veth)

// IPã‚¢ãƒ‰ãƒ¬ã‚¹ã®è¨­å®š
addr, _ := netlink.ParseAddr("172.20.0.2/24")
netlink.AddrAdd(link, addr)
```

### 5.2 ä¸€èˆ¬çš„ãªnetlinkæ“ä½œ

**ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹æ“ä½œ**
```go
// ãƒªãƒ³ã‚¯ã®å–å¾—
link, err := netlink.LinkByName("eth0")

// ãƒªãƒ³ã‚¯ã®çŠ¶æ…‹å¤‰æ›´
netlink.LinkSetUp(link)
netlink.LinkSetDown(link)

// åå‰ç©ºé–“ã¸ã®ç§»å‹•
netlink.LinkSetNsPid(link, containerPid)
```

**ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ“ä½œ**
```go
// ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ«ãƒ¼ãƒˆã®è¿½åŠ 
route := &netlink.Route{
    LinkIndex: link.Attrs().Index,
    Gw:        net.ParseIP("172.20.0.1"),
}
netlink.RouteAdd(route)
```

## 6. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### 6.1 ãƒ‡ãƒãƒƒã‚°ãƒ„ãƒ¼ãƒ«

**tcpdump**
```bash
# ãƒ–ãƒªãƒƒã‚¸ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®ãƒ‘ã‚±ãƒƒãƒˆã‚­ãƒ£ãƒ—ãƒãƒ£
tcpdump -i ctr0 -n

# ç‰¹å®šã®ã‚³ãƒ³ãƒ†ãƒŠé–“é€šä¿¡ã®ç¢ºèª
tcpdump -i veth0 host 172.20.0.2
```

**ip ã‚³ãƒãƒ³ãƒ‰**
```bash
# ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åå‰ç©ºé–“ã®ç¢ºèª
ip netns list

# ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ†ãƒ¼ãƒ–ãƒ«ã®ç¢ºèª
ip route show

# ARPãƒ†ãƒ¼ãƒ–ãƒ«ã®ç¢ºèª
ip neigh show
```

**iptables ãƒ‡ãƒãƒƒã‚°**
```bash
# ãƒ‘ã‚±ãƒƒãƒˆã‚«ã‚¦ãƒ³ã‚¿ã®ç¢ºèª
iptables -t nat -L -v -n

# ãƒ«ãƒ¼ãƒ«ã®ãƒˆãƒ¬ãƒ¼ã‚¹
iptables -t raw -A PREROUTING -j TRACE
```

### 6.2 ä¸€èˆ¬çš„ãªå•é¡Œã¨è§£æ±ºç­–

| å•é¡Œ | åŸå›  | è§£æ±ºç­– |
|------|------|--------|
| ã‚³ãƒ³ãƒ†ãƒŠã‹ã‚‰å¤–éƒ¨ã«æ¥ç¶šã§ããªã„ | ip_forwardç„¡åŠ¹ | `sysctl -w net.ipv4.ip_forward=1` |
| DNSãŒè§£æ±ºã§ããªã„ | resolv.confæœªè¨­å®š | ã‚³ãƒ³ãƒ†ãƒŠå†…ã«resolv.confã‚’ãƒã‚¦ãƒ³ãƒˆ |
| vethãŒè¦‹ã¤ã‹ã‚‰ãªã„ | åå‰ç©ºé–“ã®èª¤ã‚Š | æ­£ã—ã„åå‰ç©ºé–“ã§æ“ä½œ |
| ãƒ–ãƒªãƒƒã‚¸ãŒå‹•ä½œã—ãªã„ | STPæœ‰åŠ¹ | `brctl stp ctr0 off` |

## 7. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …

### 7.1 ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ†é›¢

**ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯åˆ¶å¾¡**
```bash
# ç‰¹å®šã®ãƒãƒ¼ãƒˆã®ã¿è¨±å¯
iptables -A FORWARD -i ctr0 -p tcp --dport 80 -j ACCEPT
iptables -A FORWARD -i ctr0 -j DROP
```

**MACã‚¢ãƒ‰ãƒ¬ã‚¹ã‚¹ãƒ—ãƒ¼ãƒ•ã‚£ãƒ³ã‚°å¯¾ç­–**
```bash
# ebtablesã§MACã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å›ºå®š
ebtables -A FORWARD -i veth0 -s ! 02:42:ac:14:00:02 -j DROP
```

### 7.2 ãƒªã‚½ãƒ¼ã‚¹åˆ¶é™

**å¸¯åŸŸå¹…åˆ¶é™**
```bash
# tcã§ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚·ã‚§ãƒ¼ãƒ”ãƒ³ã‚°
tc qdisc add dev veth0 root tbf rate 1mbit burst 32kbit latency 400ms
```

## 8. å®Ÿè£…ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### 8.1 ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

```go
// ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®šã®ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
func setupNetwork(containerID string) error {
    // è¨­å®šã‚’è¨˜éŒ²
    var cleanups []func()
    
    // vethä½œæˆ
    if err := createVeth(containerID); err != nil {
        return err
    }
    cleanups = append(cleanups, func() { deleteVeth(containerID) })
    
    // ã‚¨ãƒ©ãƒ¼æ™‚ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
    defer func() {
        if err != nil {
            for i := len(cleanups) - 1; i >= 0; i-- {
                cleanups[i]()
            }
        }
    }()
    
    // ä»–ã®è¨­å®š...
    
    return nil
}
```

### 8.2 ä¸¦è¡Œæ€§ã®è€ƒæ…®

```go
// IPã‚¢ãƒ‰ãƒ¬ã‚¹å‰²ã‚Šå½“ã¦ã®æ’ä»–åˆ¶å¾¡
type NetworkManager struct {
    mu       sync.Mutex
    networks map[string]*Network
    ipam     *IPAM
}

func (nm *NetworkManager) AllocateIP(networkID, containerID string) (net.IP, error) {
    nm.mu.Lock()
    defer nm.mu.Unlock()
    
    network, ok := nm.networks[networkID]
    if !ok {
        return nil, fmt.Errorf("network %s not found", networkID)
    }
    
    return network.ipam.Allocate(containerID)
}
```

## 9. å‚è€ƒè³‡æ–™

### 9.1 å¿…èª­ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [Linux Advanced Routing & Traffic Control](https://lartc.org/)
- [netfilter/iptables documentation](https://www.netfilter.org/documentation/)
- [iproute2 documentation](https://wiki.linuxfoundation.org/networking/iproute2)

### 9.2 å‚è€ƒå®Ÿè£…
- [CNI (Container Network Interface)](https://github.com/containernetworking/cni)
- [Docker libnetwork](https://github.com/moby/libnetwork)
- [netlink library](https://github.com/vishvananda/netlink)

### 9.3 ç†è§£åº¦ç¢ºèªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] vethãƒšã‚¢ã®å‹•ä½œåŸç†ã‚’èª¬æ˜ã§ãã‚‹
- [ ] Linux Bridgeã®å½¹å‰²ã‚’ç†è§£ã—ã¦ã„ã‚‹
- [ ] iptablesã§NATè¨­å®šãŒã§ãã‚‹
- [ ] netlinkã‚’ä½¿ç”¨ã—ãŸãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®šãŒå®Ÿè£…ã§ãã‚‹
- [ ] ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åå‰ç©ºé–“ã®æ“ä½œãŒã§ãã‚‹
- [ ] IPã‚¢ãƒ‰ãƒ¬ã‚¹ç®¡ç†ã®å®Ÿè£…æ–¹æ³•ã‚’ç†è§£ã—ã¦ã„ã‚‹

ã“ã‚Œã‚‰ã®çŸ¥è­˜ã‚’èº«ã«ã¤ã‘ã‚‹ã“ã¨ã§ã€Phase 2ã®ã‚³ãƒ³ãƒ†ãƒŠãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å®Ÿè£…ã«åŠ¹æœçš„ã«å–ã‚Šçµ„ã‚€ã“ã¨ãŒã§ãã¾ã™ã€‚

---

## ğŸ“– è£œåŠ©æ•™æ

Phase 2ã‚’ã‚ˆã‚Šæ·±ãç†è§£ã™ã‚‹ãŸã‚ã«ã€ä»¥ä¸‹ã®è£œåŠ©æ•™æã‚’å‚ç…§ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ï¼š

- **[Linux Bridge ã¨ veth - ç†è«–çš„ç†è§£](../../resources/03-networking-concepts/bridge-veth-theory.md)**
  - Linux Bridgeã®å†…éƒ¨å‹•ä½œåŸç†
  - veth pairã®ä»®æƒ³ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šãƒ¡ã‚«ãƒ‹ã‚ºãƒ 
  - MACã‚¢ãƒ‰ãƒ¬ã‚¹å­¦ç¿’ã¨ãƒ•ãƒ¬ãƒ¼ãƒ è»¢é€ã®ç†è«–
  - ã‚¹ãƒ‘ãƒ‹ãƒ³ã‚°ãƒ„ãƒªãƒ¼ãƒ—ãƒ­ãƒˆã‚³ãƒ«ã®å‹•ä½œ

ã“ã®è³‡æ–™ã¯ã€Phase 2ã§å®Ÿè£…ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒŠãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®åŸºç›¤ã¨ãªã‚‹æŠ€è¡“ã‚’æ·±ãç†è§£ã™ã‚‹ã®ã«å½¹ç«‹ã¡ã¾ã™ã€‚ç‰¹ã«ã€vethãƒšã‚¢ã¨Linux Bridgeã®çµ„ã¿åˆã‚ã›ã«ã‚ˆã‚‹ä»®æƒ³ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ§‹ç¯‰ã®ç†è«–çš„èƒŒæ™¯ã‚’å­¦ã¶ã“ã¨ãŒã§ãã¾ã™ã€‚